{"lesson":{"id":1861,"name":"Subqueries","type":0,"mode":1,"videoID":"I4wk67fkZNw","tags":"subqueries","quizzes":[{"id":3614,"number":1,"videoStart":13.5,"videoEnd":199.0,"linkedVideoID":null,"type":6,"linkedQuizID":null,"tip":null,"hint":null,"time":0,"answers":[{"id":96371,"text":"WHERE","isCorrect":true,"properties":{}},{"id":96372,"text":"ORDER BY","isCorrect":true,"properties":{}},{"id":96373,"text":"DESC","isCorrect":true,"properties":{}},{"id":96374,"text":"ASC","isCorrect":false,"properties":{}},{"id":96375,"text":"AS","isCorrect":false,"properties":{}},{"id":96376,"text":"NOT","isCorrect":false,"properties":{}}],"question":"Fill the blanks to select all items from the ''items'' table for which cost is greater than 463. Order the result by cost in descending order.\r\n[!raw!]\r\nSELECT * FROM items \r\n{0} cost > 463 \r\n{1} cost {2}","textContent":"[h1]Subqueries[/h1]\r\n\r\nA [b]subquery [/b]is a query within another query. \r\n\r\nLet's consider an example. We might need the list of all employees whose salaries are greater than the average.\r\nFirst, calculate the average:[code format=\"sql\"]SELECT AVG(Salary) FROM employees;[/code]\r\nAs we already know the average, we can use a simple WHERE to list the salaries that are [b]greater[/b] than that number.[code format=\"sql\"]SELECT FirstName, Salary FROM employees \r\n[b]WHERE  Salary > 3100[/b]\r\nORDER BY Salary DESC;[/code]\r\n[note]The [b]DESC [/b]keyword sorts results in [b]descending [/b]order. \r\nSimilarly, [b]ASC [/b]sorts the results in [b]ascending [/b]order.[/note]\r\n[b]Result:[/b] [img id=\"2826\" width=\"100%\"]"},{"id":3615,"number":2,"videoStart":199.0,"videoEnd":287.0,"linkedVideoID":null,"type":6,"linkedQuizID":null,"tip":null,"hint":null,"time":0,"answers":[{"id":96377,"text":"WHERE","isCorrect":true,"properties":{}},{"id":96378,"text":"AVG","isCorrect":true,"properties":{}},{"id":96379,"text":"items","isCorrect":true,"properties":{}},{"id":96380,"text":"SUM","isCorrect":false,"properties":{}},{"id":96381,"text":"COST","isCorrect":false,"properties":{}},{"id":96382,"text":"IN","isCorrect":false,"properties":{}}],"question":"Fill in the blanks to select all items from the ''items'' table for which the cost is greater than the average of costs. Use a subquery to calculate the average cost.\r\n[!raw!]\r\nSELECT * FROM items \r\n{0} cost > \r\n(SELECT {1}(cost) \r\nFROM {2}) ","textContent":"[h1]Subqueries [/h1]\r\n\r\nA single subquery will return the same result more easily.[code format=\"sql\"]SELECT FirstName, Salary FROM employees \r\nWHERE  Salary > [b](SELECT AVG(Salary) FROM employees) [/b]\r\nORDER BY Salary DESC;[/code]\r\nThe same result will be produced. [img id=\"2826\" width=\"100%\"]\r\n[note]Enclose the subquery in [b]parentheses[/b]. \r\nAlso, note that there is no semicolon at the end of the subquery, as it is part of our single query.[/note]"}]}}